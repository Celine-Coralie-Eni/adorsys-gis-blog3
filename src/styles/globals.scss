
/// 1. The base layers
@use "@vymalo/ui-preset/dist/base";

/// 2. The theme layers
@use "@vymalo/ui-preset/dist/theme-vymalo-dark-v2";
@use "@vymalo/ui-preset/dist/theme-vymalo-bangangte-v2";

/// 3. The other layers
@use "@vymalo/ui-preset/dist/normal";

@use "tailwindcss";

// Global responsive improvements
html {
  scroll-behavior: smooth;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Ensure proper touch targets on mobile
button, a, [role="button"] {
  min-height: 44px;
  min-width: 44px;
  
  @media (min-width: 640px) {
    min-height: auto;
    min-width: auto;
  }
}

// Improve focus visibility
*:focus-visible {
  outline: 2px solid hsl(var(--p));
  outline-offset: 2px;
}

code.mermaid {
  svg {
    max-width: 100% !important;
  }
}

// Mermaid diagram styles
.mermaid-diagram {
  @apply my-6 text-center;
  display: block !important;
  visibility: visible !important;
  
  svg {
    @apply max-w-full h-auto mx-auto;
    max-height: 600px;
    display: block !important;
    visibility: visible !important;
  }
  
  // Ensure diagrams are responsive
  @media (max-width: 768px) {
    svg {
      max-height: 400px;
    }
  }
}

// Hide original mermaid code blocks after rendering
pre.hidden {
  @apply hidden;
}

// Debug: Make sure mermaid diagrams are visible
.mermaid-diagram svg {
  border: 2px solid #3b82f6 !important;
  background: #1f2937 !important;
  padding: 1rem !important;
  border-radius: 0.5rem !important;
}

.display {
  section {
    section {
      img {
        height: 12vw;
      }
    }
  }

  img {
    $logo-margin: 24px;

    &[alt='adorsys-logo'] {
      width: 25vw;
    }

    &[alt='@-logo'] {
      width: 70px;
      height: auto;
      margin-left: $logo-margin;
      margin-top: $logo-margin;
    }
  }

  @apply aspect-[16/9] bg-base-200;
}

/* Rich slide preview inside cards */
.slide-preview {
  @apply h-full w-full bg-base-200;

  .slide-preview-inner {
    @apply h-full w-full overflow-hidden rounded-none;
  }

  img, svg, canvas, video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  pre, code {
    @apply text-xs leading-snug;
  }

  .prose {
    @apply max-w-none text-sm;
  }
}

article {
  h1, h2, h3, h4, h5, h6 {
    @apply font-nunito;
  }
  
  h1:first-child {
    @apply text-4xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold;

    span {
      @apply bg-gradient-to-r from-pink-500 to-violet-500 bg-clip-text text-transparent;
    }
  }
}

// Responsive improvements for prose content
.prose {
  @apply max-w-none;
  
  h1, h2, h3, h4, h5, h6 {
    @apply scroll-mt-20;
  }
  
  img {
    @apply max-w-full h-auto;
  }
  
  pre {
    @apply overflow-x-auto;
  }
  
  @media (max-width: 640px) {
    @apply text-sm;
    
    h1 { @apply text-2xl; }
    h2 { @apply text-xl; }
    h3 { @apply text-lg; }
  }
}
