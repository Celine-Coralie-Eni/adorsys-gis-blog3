
/// 1. The base layers
@use "@vymalo/ui-preset/dist/base";

/// 2. The theme layers
@use "@vymalo/ui-preset/dist/theme-vymalo-dark-v2";
@use "@vymalo/ui-preset/dist/theme-vymalo-bangangte-v2";

/// 3. The other layers
@use "@vymalo/ui-preset/dist/normal";

@use "tailwindcss";

// Global responsive improvements
html {
  scroll-behavior: smooth;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Ensure proper touch targets on mobile
button, a, [role="button"] {
  min-height: 44px;
  min-width: 44px;
  
  @media (min-width: 640px) {
    min-height: auto;
    min-width: auto;
  }
}

// Improve focus visibility
*:focus-visible {
  outline: 2px solid hsl(var(--p));
  outline-offset: 2px;
}

code.mermaid {
  svg {
    max-width: 100% !important;
  }
}

.display {
  section {
    section {
      img {
        height: 12vw;
      }
    }
  }

  img {
    $logo-margin: 24px;

    &[alt='adorsys-logo'] {
      width: 25vw;
    }

    &[alt='@-logo'] {
      width: 70px;
      height: auto;
      margin-left: $logo-margin;
      margin-top: $logo-margin;
    }
  }

  @apply aspect-[16/9] bg-base-200;
}

/* Rich slide preview inside cards */
.slide-preview {
  @apply h-full w-full bg-base-200;

  .slide-preview-inner {
    @apply h-full w-full overflow-hidden rounded-none;
  }

  img, svg, canvas, video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  pre, code {
    @apply text-xs leading-snug;
  }

  .prose {
    @apply max-w-none text-sm text-justify;
  }
}

article {
  h1, h2, h3, h4, h5, h6 {
    @apply font-nunito;
  }
  
  h1:first-child {
    @apply text-4xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold;

    span {
      @apply bg-gradient-to-r from-pink-500 to-violet-500 bg-clip-text text-transparent;
    }
  }
}

// Responsive improvements for prose content
.prose {
  @apply max-w-none;
  
  h1, h2, h3, h4, h5, h6 {
    @apply scroll-mt-20;
  }
  
  img {
    @apply max-w-full h-auto;
  }
  
  pre {
    @apply overflow-x-auto;
  }
  
  @media (max-width: 640px) {
    @apply text-sm;
    
    h1 { @apply text-2xl; }
    h2 { @apply text-xl; }
    h3 { @apply text-lg; }
  }
}

// Global text justification override with higher specificity
.reveal .slides section,
.reveal .slides section *,
.prose,
.prose *,
.prose.prose-neutral,
.prose.prose-neutral *,
.prose.prose-invert,
.prose.prose-invert * {
  text-align: justify !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
}

// Ensure slide preview content is also justified
.slide-preview .prose,
.slide-preview .prose *,
.slide-preview .prose.prose-invert,
.slide-preview .prose.prose-invert * {
  text-align: justify !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
}

// Override any Tailwind prose text alignment with maximum specificity
.prose.text-justify,
.prose.text-justify *,
.prose.prose-neutral.text-justify,
.prose.prose-neutral.text-justify *,
.prose.prose-invert.text-justify,
.prose.prose-invert.text-justify * {
  text-align: justify !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
}

// Force normal word spacing for all text content
.reveal .slides section,
.reveal .slides section *,
.prose,
.prose *,
.prose.prose-neutral,
.prose.prose-neutral *,
.prose.prose-invert,
.prose.prose-invert * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-justify: auto !important;
  text-align-last: auto !important;
}

// Specific fix for the "Secure Software" spacing issue
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3,
.reveal .slides section h4,
.reveal .slides section h5,
.reveal .slides section h6,
.reveal .slides section p,
.reveal .slides section div,
.reveal .slides section span {
  white-space: normal !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
}

// Force text to flow naturally without excessive spacing
.reveal .slides section {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
}

// Ensure prose content is properly justified
.prose,
.prose.prose-neutral,
.prose.prose-invert {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
}

// Aggressive spacing fix for all text content
.reveal .slides section,
.reveal .slides section *,
.prose,
.prose *,
.prose.prose-neutral,
.prose.prose-neutral *,
.prose.prose-invert,
.prose.prose-invert * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
}

// Force remove any excessive spacing between words
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3,
.reveal .slides section h4,
.reveal .slides section h5,
.reveal .slides section h6,
.reveal .slides section p,
.reveal .slides section div,
.reveal .slides section span,
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6,
.prose p,
.prose div,
.prose span {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
}

// Specific fix for the "Secure Software" spacing issue - target all text nodes
.reveal .slides section,
.reveal .slides section *,
.prose,
.prose * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
}

// Override any potential flexbox or grid spacing issues
.reveal .slides section,
.prose {
  display: block !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
}

// Force override any CSS that might be causing spacing issues
.reveal .slides section *,
.prose * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-feature-settings: "kern" 1 !important;
  -moz-font-feature-settings: "kern" 1 !important;
}

// Additional fix for any potential spacing issues
.reveal .slides section,
.prose {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-feature-settings: "kern" 1 !important;
  -moz-font-feature-settings: "kern" 1 !important;
}

// Force remove any potential spacing issues with maximum specificity
.reveal .slides section *,
.reveal .slides section * *,
.prose *,
.prose * * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-feature-settings: "kern" 1 !important;
  -moz-font-feature-settings: "kern" 1 !important;
}

// Nuclear option - override everything with maximum specificity
.reveal,
.reveal *,
.reveal .slides,
.reveal .slides *,
.reveal .slides section,
.reveal .slides section *,
.reveal .slides section * *,
.reveal .slides section * * *,
.prose,
.prose *,
.prose * *,
.prose * * * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-feature-settings: "kern" 1 !important;
  -moz-font-feature-settings: "kern" 1 !important;
}

// Target specific text content that might be causing issues
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3,
.reveal .slides section h4,
.reveal .slides section h5,
.reveal .slides section h6,
.reveal .slides section p,
.reveal .slides section div,
.reveal .slides section span,
.reveal .slides section strong,
.reveal .slides section em,
.reveal .slides section b,
.reveal .slides section i {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  white-space: normal !important;
  font-kerning: normal !important;
  font-feature-settings: "kern" 1 !important;
  text-rendering: optimizeLegibility !important;
  -webkit-font-feature-settings: "kern" 1 !important;
  -moz-font-feature-settings: "kern" 1 !important;
}
