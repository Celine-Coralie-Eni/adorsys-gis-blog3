
/// 1. The base layers
@use "@vymalo/ui-preset/dist/base";

/// 2. The theme layers
@use "@vymalo/ui-preset/dist/theme-vymalo-dark-v2";
@use "@vymalo/ui-preset/dist/theme-vymalo-bangangte-v2";

/// 3. The other layers
@use "@vymalo/ui-preset/dist/normal";

@use "tailwindcss";

// Global responsive improvements
html {
  scroll-behavior: smooth;
}

body {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

// Ensure proper touch targets on mobile
button, a, [role="button"] {
  min-height: 44px;
  min-width: 44px;
  
  @media (min-width: 640px) {
    min-height: auto;
    min-width: auto;
  }
}

// Improve focus visibility
*:focus-visible {
  outline: 2px solid hsl(var(--p));
  outline-offset: 2px;
}

code.mermaid {
  svg {
    max-width: 100% !important;
  }
}

// Mermaid diagram styles
.mermaid-diagram {
  @apply my-6 text-center;
  display: block !important;
  visibility: visible !important;
  
  svg {
    @apply max-w-full h-auto mx-auto;
    max-height: 600px;
    display: block !important;
    visibility: visible !important;
  }
  
  // Ensure diagrams are responsive
  @media (max-width: 768px) {
    svg {
      max-height: 400px;
    }
  }
}

// Hide original mermaid code blocks after rendering
pre.hidden {
  @apply hidden;
}

// Debug: Make sure mermaid diagrams are visible
.mermaid-diagram svg {
  border: 2px solid #3b82f6 !important;
  background: #1f2937 !important;
  padding: 1rem !important;
  border-radius: 0.5rem !important;
}

.display {
  section {
    section {
      img {
        height: 12vw;
      }
    }
  }

  img {
    $logo-margin: 24px;

    &[alt='adorsys-logo'] {
      width: 25vw;
    }

    &[alt='@-logo'] {
      width: 70px;
      height: auto;
      margin-left: $logo-margin;
      margin-top: $logo-margin;
    }
  }

  @apply aspect-[16/9] bg-base-200;
}

/* Rich slide preview inside cards */
.slide-preview {
  @apply h-full w-full bg-base-200;

  .slide-preview-inner {
    @apply h-full w-full overflow-hidden rounded-none;
  }

  img, svg, canvas, video {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  pre, code {
    @apply text-xs leading-snug;
  }

  .prose {
    @apply max-w-none text-sm;
  }
}

article {
  h1, h2, h3, h4, h5, h6 {
    @apply font-nunito;
  }
  
  h1:first-child {
    @apply text-4xl sm:text-6xl md:text-7xl lg:text-8xl font-extrabold;

    span {
      @apply bg-gradient-to-r from-pink-500 to-violet-500 bg-clip-text text-transparent;
    }
  }
}

// Responsive improvements for prose content
.prose {
  @apply max-w-none;
  
  h1, h2, h3, h4, h5, h6 {
    @apply scroll-mt-20;
  }
  
  img {
    @apply max-w-full h-auto;
  }
  
  pre {
    @apply overflow-x-auto;
  }
  
  @media (max-width: 640px) {
    @apply text-sm;
    
    h1 { @apply text-2xl; }
    h2 { @apply text-xl; }
    h3 { @apply text-lg; }
  }
}

// ===== GLOBAL TEXT JUSTIFICATION AND SPACING FIXES =====

// Force justified text with proper word spacing for all content
.reveal .slides section,
.reveal .slides section *,
.prose,
.prose *,
.prose.prose-neutral,
.prose.prose-neutral *,
.prose.prose-invert,
.prose.prose-invert * {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  line-height: 1.6 !important;
}

// Ensure slide preview content is also properly justified
.slide-preview .prose,
.slide-preview .prose *,
.slide-preview .prose.prose-invert,
.slide-preview .prose.prose-invert * {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  line-height: 1.4 !important;
}

// Override any Tailwind prose text alignment with maximum specificity
.prose.text-justify,
.prose.text-justify *,
.prose.prose-neutral.text-justify,
.prose.prose-neutral.text-justify *,
.prose.prose-invert.text-justify,
.prose.prose-invert.text-justify *,
.reveal .slides section.text-justify,
.reveal .slides section.text-justify * {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
}

// Critical fixes for word spacing and text flow
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3,
.reveal .slides section h4,
.reveal .slides section h5,
.reveal .slides section h6,
.reveal .slides section p,
.reveal .slides section div,
.reveal .slides section span,
.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6,
.prose p,
.prose div,
.prose span {
  white-space: normal !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  text-align: justify !important;
  text-justify: inter-word !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  line-height: 1.6 !important;
}

// ===== SLIDE TITLE SPECIFIC FIXES =====

// Force slide titles to display properly without column splitting
.reveal .slides section h1,
.reveal .slides section h2,
.reveal .slides section h3 {
  display: block !important;
  width: 100% !important;
  text-align: center !important;
  white-space: normal !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  line-height: 1.4 !important;
  margin: 1rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
}

// Prevent line breaks in slide titles
.reveal .slides section h1 br,
.reveal .slides section h2 br,
.reveal .slides section h3 br {
  display: none !important;
}

// Override any Reveal.js column layouts
.reveal .slides section {
  column-count: 1 !important;
  column-gap: normal !important;
  column-fill: auto !important;
  display: block !important;
  grid-template-columns: 1fr !important;
  flex-direction: column !important;
}

// ===== ULTRA-AGGRESSIVE WORD SPACING FIXES =====

// Force normal word spacing on ALL slide content
.reveal .slides section *,
.reveal .slides section[data-markdown] *,
.reveal .slides section[data-markdown] h1 *,
.reveal .slides section[data-markdown] h2 *,
.reveal .slides section[data-markdown] h3 *,
.reveal .slides section[data-markdown] h4 *,
.reveal .slides section[data-markdown] h5 *,
.reveal .slides section[data-markdown] h6 * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: inherit !important;
  display: inline !important;
  float: none !important;
  clear: none !important;
  margin: 0 !important;
  padding: 0 !important;
  text-indent: 0 !important;
}

// Specific fix for titles like "Introduction to LPIC-1"
.reveal .slides section[data-markdown] h1,
.reveal .slides section[data-markdown] h2,
.reveal .slides section[data-markdown] h3 {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: center !important;
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  line-height: 1.4 !important;
  margin: 0.5rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
  float: none !important;
  clear: both !important;
}

// ===== PROSE CONTENT TITLE FIXES =====

// Fix prose content titles (general blog content)
.prose h1,
.prose.prose-neutral h1,
.prose.prose-invert h1 {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: center !important;
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  line-height: 1.4 !important;
  margin: 1rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
  float: none !important;
  clear: both !important;
}

// Force normal word spacing on prose content
.prose *,
.prose.prose-neutral *,
.prose.prose-invert * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
}

// Maximum specificity for prose titles
html body .prose h1,
html body .prose.prose-neutral h1,
html body .prose.prose-invert h1 {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: center !important;
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  line-height: 1.4 !important;
  margin: 1rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
  float: none !important;
  clear: both !important;
}

// Ultra-specific targeting for the exact classes used in the blog page
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h1,
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h2,
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h3,
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h4,
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h5,
html body .prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h6 {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: center !important;
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  line-height: 1.4 !important;
  margin: 1rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
  float: none !important;
  clear: both !important;
}

// Target the specific article element
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h1,
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h2,
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h3,
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h4,
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h5,
html body article.prose.prose-neutral.lg\:prose-xl.mx-auto.mt-8.text-justify.px-8 h6 {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  text-align: center !important;
  display: block !important;
  width: 100% !important;
  max-width: 100% !important;
  line-height: 1.4 !important;
  margin: 1rem 0 !important;
  padding: 0 !important;
  overflow-wrap: normal !important;
  word-break: normal !important;
  hyphens: none !important;
  column-span: all !important;
  break-inside: avoid !important;
  float: none !important;
  clear: both !important;
}

// Target prose content child elements
html body .prose h1 *,
html body .prose.prose-neutral h1 *,
html body .prose.prose-invert h1 * {
  word-spacing: normal !important;
  letter-spacing: normal !important;
  white-space: normal !important;
  display: inline !important;
  margin: 0 !important;
  padding: 0 !important;
  text-indent: 0 !important;
  float: none !important;
  clear: none !important;
}

// Force text to flow naturally without excessive spacing
.reveal .slides section {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  line-height: 1.6 !important;
}

// Ensure prose content is properly justified
.prose,
.prose.prose-neutral,
.prose.prose-invert {
  text-align: justify !important;
  text-justify: inter-word !important;
  word-spacing: normal !important;
  letter-spacing: normal !important;
  line-height: 1.6 !important;
  max-width: none !important;
}

// Prose: justify only paragraph and list text, not headings
.prose-justify {
  p, li {
    text-align: justify;
  }
}

// ===== BLOG CONTENT CONTAINER STYLING =====
// Ensure the blog content container is properly centered and styled
.max-w-\[1200px\] {
  margin-left: auto !important;
  margin-right: auto !important;
  display: block !important;
  width: 100% !important;
  max-width: 1200px !important;
}

// Override any conflicting prose styles for the blog content container
.max-w-\[1200px\] .prose,
.max-w-\[1200px\] .prose * {
  max-width: none !important;
  width: auto !important;
}

// Force center alignment for the blog content container specifically
article .max-w-\[1200px\] {
  margin-left: auto !important;
  margin-right: auto !important;
  display: block !important;
  width: 100% !important;
  max-width: 1200px !important;
  text-align: center !important;
}

// Ensure the container itself is centered on the page
article .max-w-\[1200px\] {
  position: relative !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

// Override any prose justify rules for the blog container
article .max-w-\[1200px\] .prose,
article .max-w-\[1200px\] .prose * {
  text-align: inherit !important;
}

// Force the container to be centered regardless of parent styles
.max-w-\[1200px\]:where(article *) {
  margin-left: auto !important;
  margin-right: auto !important;
  display: block !important;
  width: 100% !important;
  max-width: 1200px !important;
}

// ===== SPECIFIC BLOG CONTENT CONTAINER STYLING =====
// Target the specific blog content container class
.blog-content-container {
  margin-left: auto !important;
  margin-right: auto !important;
  display: block !important;
  width: 100% !important;
  max-width: 1200px !important;
  position: relative !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
}

// Override any prose styles that might interfere
.blog-content-container .prose,
.blog-content-container .prose * {
  max-width: none !important;
  width: auto !important;
}

// Ensure the container is centered on all screen sizes
@media (min-width: 1200px) {
  .blog-content-container {
    margin-left: auto !important;
    margin-right: auto !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}

// ===== RESPONSIVE BLOG CONTENT STYLING =====
// Clean, professional mobile-first responsive design for blog content
.blog-content-container {
  // Base mobile styles (default)
  width: 100% !important;
  max-width: 100% !important;
  margin: 0 auto !important;
  padding: 0 1rem !important;
  position: static !important;
  left: auto !important;
  transform: none !important;
  
  // Small mobile devices (320px - 480px)
  @media (max-width: 480px) {
    padding: 0 0.5rem !important;
    margin: 0 0.25rem !important;
  }
  
  // Mobile devices (481px - 640px)
  @media (min-width: 481px) and (max-width: 640px) {
    padding: 0 0.75rem !important;
    margin: 0 0.5rem !important;
  }
  
  // Small tablets (641px - 768px)
  @media (min-width: 641px) and (max-width: 768px) {
    max-width: 95% !important;
    padding: 0 1rem !important;
    margin: 0 auto !important;
  }
  
  // Tablets (769px - 1024px)
  @media (min-width: 769px) and (max-width: 1024px) {
    max-width: 90% !important;
    padding: 0 1.5rem !important;
    margin: 0 auto !important;
  }
  
  // Small desktops (1025px - 1199px)
  @media (min-width: 1025px) and (max-width: 1199px) {
    max-width: 85% !important;
    padding: 0 2rem !important;
    margin: 0 auto !important;
  }
  
  // Large desktops (1200px+)
  @media (min-width: 1200px) {
    max-width: 1200px !important;
    padding: 0 2rem !important;
    margin: 0 auto !important;
    position: relative !important;
    left: 50% !important;
    transform: translateX(-50%) !important;
  }
}

// Responsive typography for blog content
.blog-content-container .prose {
  // Base mobile styles
  font-size: 0.875rem !important;
  line-height: 1.6 !important;
  
  // Headings on mobile
  h1 { font-size: 1.5rem !important; margin: 1rem 0 !important; }
  h2 { font-size: 1.25rem !important; margin: 0.875rem 0 !important; }
  h3 { font-size: 1.125rem !important; margin: 0.75rem 0 !important; }
  h4, h5, h6 { font-size: 1rem !important; margin: 0.75rem 0 !important; }
  
  // Text on mobile
  p, li { font-size: 0.875rem !important; margin: 0.5rem 0 !important; }
  
  // Small mobile devices (320px - 480px)
  @media (max-width: 480px) {
    font-size: 0.8rem !important;
    line-height: 1.5 !important;
    
    h1 { font-size: 1.25rem !important; }
    h2 { font-size: 1.125rem !important; }
    h3 { font-size: 1rem !important; }
    h4, h5, h6 { font-size: 0.875rem !important; }
    
    p, li { font-size: 0.8rem !important; }
  }
  
  // Mobile devices (481px - 640px)
  @media (min-width: 481px) and (max-width: 640px) {
    font-size: 0.875rem !important;
    line-height: 1.6 !important;
    
    h1 { font-size: 1.5rem !important; }
    h2 { font-size: 1.25rem !important; }
    h3 { font-size: 1.125rem !important; }
    h4, h5, h6 { font-size: 1rem !important; }
    
    p, li { font-size: 0.875rem !important; }
  }
  
  // Small tablets (641px - 768px)
  @media (min-width: 641px) and (max-width: 768px) {
    font-size: 1rem !important;
    line-height: 1.6 !important;
    
    h1 { font-size: 1.75rem !important; }
    h2 { font-size: 1.5rem !important; }
    h3 { font-size: 1.25rem !important; }
    h4, h5, h6 { font-size: 1.125rem !important; }
    
    p, li { font-size: 1rem !important; }
  }
  
  // Tablets (769px - 1024px)
  @media (min-width: 769px) and (max-width: 1024px) {
    font-size: 1.125rem !important;
    line-height: 1.7 !important;
    
    h1 { font-size: 2rem !important; }
    h2 { font-size: 1.75rem !important; }
    h3 { font-size: 1.5rem !important; }
    h4, h5, h6 { font-size: 1.25rem !important; }
    
    p, li { font-size: 1.125rem !important; }
  }
  
  // Small desktops (1025px - 1199px)
  @media (min-width: 1025px) and (max-width: 1199px) {
    font-size: 1.25rem !important;
    line-height: 1.7 !important;
    
    h1 { font-size: 2.25rem !important; }
    h2 { font-size: 2rem !important; }
    h3 { font-size: 1.75rem !important; }
    h4, h5, h6 { font-size: 1.5rem !important; }
    
    p, li { font-size: 1.25rem !important; }
  }
  
  // Large desktops (1200px+)
  @media (min-width: 1200px) {
    font-size: 1.375rem !important;
    line-height: 1.8 !important;
    
    h1 { font-size: 2.5rem !important; }
    h2 { font-size: 2.25rem !important; }
    h3 { font-size: 2rem !important; }
    h4, h5, h6 { font-size: 1.75rem !important; }
    
    p, li { font-size: 1.375rem !important; }
  }
}

// Responsive spacing and layout for blog content
.blog-content-container .prose {
  // Base mobile spacing
  h1, h2, h3, h4, h5, h6 {
    margin: 0.75rem 0 !important;
    padding: 0 !important;
  }
  
  p, li, blockquote {
    margin: 0.5rem 0 !important;
    padding: 0 !important;
  }
  
  ul, ol {
    margin: 0.5rem 0 !important;
    padding-left: 1.25rem !important;
  }
  
  // Small mobile devices (320px - 480px)
  @media (max-width: 480px) {
    h1, h2, h3, h4, h5, h6 {
      margin: 0.5rem 0 !important;
    }
    
    p, li, blockquote {
      margin: 0.375rem 0 !important;
    }
    
    ul, ol {
      margin: 0.375rem 0 !important;
      padding-left: 1rem !important;
    }
  }
  
  // Mobile devices (481px - 640px)
  @media (min-width: 481px) and (max-width: 640px) {
    h1, h2, h3, h4, h5, h6 {
      margin: 0.75rem 0 !important;
    }
    
    p, li, blockquote {
      margin: 0.5rem 0 !important;
    }
    
    ul, ol {
      margin: 0.5rem 0 !important;
      padding-left: 1.25rem !important;
    }
  }
  
  // Larger screens (641px+)
  @media (min-width: 641px) {
    h1, h2, h3, h4, h5, h6 {
      margin: 1rem 0 !important;
    }
    
    p, li, blockquote {
      margin: 0.75rem 0 !important;
    }
    
    ul, ol {
      margin: 0.75rem 0 !important;
      padding-left: 1.5rem !important;
    }
  }
}

// Ensure images are responsive in blog content
.blog-content-container .prose img {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
  margin: 1rem auto !important;
  
  @media (max-width: 640px) {
    margin: 0.75rem auto !important;
  }
}

// Ensure code blocks are responsive
.blog-content-container .prose pre,
.blog-content-container .prose code {
  overflow-x: auto !important;
  word-wrap: break-word !important;
  
  @media (max-width: 640px) {
    font-size: 0.75rem !important;
    padding: 0.5rem !important;
  }
}

// Ensure tables are responsive
.blog-content-container .prose table {
  width: 100% !important;
  overflow-x: auto !important;
  display: block !important;
  
  @media (max-width: 640px) {
    font-size: 0.75rem !important;
  }
}
